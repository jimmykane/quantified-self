<section class="component-container">
  <app-shade [isActive]="!isInitialized"></app-shade>



  <div class="dashboard-content">
    @if (user) {
    <app-event-search [isLoading]="isLoading" [selectedDateRange]="user.settings.dashboardSettings.dateRange"
      [selectedStartDate]="searchStartDate" [selectedEndDate]="searchEndDate" [startOfTheWeek]="startOfTheWeek"
      [selectedActivityTypes]="user.settings.dashboardSettings.activityTypes" (searchChange)="search($event)">
    </app-event-search>
    }

    <!-- Removed mat-divider in favor of CSS spacing/gap -->

    @if (user) {
    <app-summaries [isLoading]="isLoading" [user]="user" [showActions]="!targetUser || targetUser.uid === user.uid"
      [events]="events">
    </app-summaries>
    }

    @if (user) {
    <app-event-table [targetUser]="targetUser" [isLoading]="isLoading" [user]="user"
      [showActions]="!targetUser || targetUser.uid === user.uid" [events]="events"></app-event-table>
    }
  </div>
</section>