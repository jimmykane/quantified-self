@use '../../../styles/breakpoints' as bp;

// Variables based on Material System
// Note: Actual colors come from var(--mat-sys-*) CSS variables defined in theme

:host {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    background-color: var(--mat-sys-surface);
    color: var(--mat-sys-on-surface);
    overflow-x: hidden;
}




// Animations & Transitions
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(40px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.animate-on-scroll {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
    transition: opacity 1s cubic-bezier(0.2, 0.8, 0.2, 1),
        transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: opacity, transform;

    &.is-visible {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

// Common Utils
.highlight-text {
    background: linear-gradient(135deg,
            var(--mat-sys-primary) 0%,
            var(--mat-sys-tertiary) 50%,
            var(--mat-sys-primary) 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent; // Fallback
    animation: gradientShift 6s ease infinite;
}

// 1. Hero Section
.hero-section {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 8rem 2rem 5rem;
    background: radial-gradient(circle at 50% 0%,
            var(--mat-sys-surface-container-high) 0%,
            var(--mat-sys-surface) 70%);

    .hero-content {
        max-width: 900px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;

        // Immediate Entrance Animation
        &>* {
            opacity: 0; // Start hidden
            animation: fadeInUp 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        // Stagger Delays
        .brand-badge {
            animation-delay: 0.1s;
        }

        .hero-title {
            animation-delay: 0.2s;
        }

        .hero-subtitle {
            animation-delay: 0.3s;
        }

        .hero-actions {
            animation-delay: 0.4s;
        }

        .trust-indicators {
            animation-delay: 0.5s;
        }
    }

    .brand-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem; // Increased gap
        padding: 0.75rem 1.5rem; // Larger padding
        border-radius: 999px;
        background-color: var(--mat-sys-surface-container-highest);
        color: var(--mat-sys-on-surface-variant);
        font-size: 1.25rem; // Increased from 1rem
        font-weight: 500;
        margin-bottom: 2rem; // More breathing room
        transition: transform 0.3s ease;

        &:hover {
            transform: scale(1.05);
        }

        .brand-logo {
            width: 32px; // Increased from 24px
            height: 32px;
        }
    }

    .hero-title {
        font-family: var(--mat-sys-display-large-font-family-name);
        // Use clamp for responsive font sizing
        font-size: clamp(3.5rem, 6vw, 5.5rem);
        line-height: 1.1;
        font-weight: 800;
        letter-spacing: -0.02em;
        margin: 0;
    }

    .hero-subtitle {
        font-size: 1.25rem;
        line-height: 1.6;
        color: var(--mat-sys-on-surface-variant);
        max-width: 600px;
        margin-bottom: 1.5rem;
    }

    .hero-actions {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        justify-content: center;

        .cta-button {
            padding: 1.5rem 2rem; // Slightly taller buttons
            font-size: 1.1rem;
            border-radius: 999px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;

            &:hover {
                transform: translateY(-2px);
            }

            &.primary {
                &:hover {
                    box-shadow: 0 4px 12px rgba(var(--mat-sys-primary-rgb), 0.3); // Assuming RGB var might exist, else just shadow
                    // If RGB var doesn't exist, we fall back to standard shadow or elevation
                }
            }
        }
    }

    .trust-indicators {
        display: flex;
        gap: 2rem;
        font-size: 0.875rem;
        color: var(--mat-sys-on-surface-variant);
        opacity: 0.8;
        flex-wrap: wrap;
        justify-content: center;

        .indicator {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: opacity 0.2s;

            &:hover {
                opacity: 1;
                color: var(--mat-sys-on-surface);
            }

            mat-icon {
                font-size: 18px;
                width: 18px;
                height: 18px;
                color: var(--mat-sys-primary);
            }
        }
    }
}

// 1.5 Fast Track Section
.fast-track-section {
    padding: 2rem 2rem 4rem;
    max-width: 1000px;
    margin: 0 auto;

    .fast-track-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .fast-track-card {
        border-radius: 20px;
        background: var(--mat-sys-surface-container-low);
        transition: transform 0.3s ease, background-color 0.3s ease;

        &:hover {
            transform: translateY(-4px);
            background: var(--mat-sys-surface-container);
        }

        .fast-track-icon-container {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            width: 40px;
            height: 40px;

            &.import {
                background-color: var(--mat-sys-secondary-container);
                color: var(--mat-sys-on-secondary-container);
            }

            &.sync {
                background-color: var(--mat-sys-tertiary-container);
                color: var(--mat-sys-on-tertiary-container);
            }

            mat-icon {
                font-size: 20px;
                width: 20px;
                height: 20px;
            }
        }

        mat-card-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        mat-card-content p {
            font-size: 0.95rem;
            color: var(--mat-sys-on-surface-variant);
            line-height: 1.5;
        }
    }
}

// 2. Integrations Ticker
.integrations-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 6rem 2rem;
    background-color: var(--mat-sys-surface);
    border-bottom: 1px solid var(--mat-sys-outline-variant);
    border-bottom: 1px solid var(--mat-sys-outline-variant);

    // Scroll Animation
    @extend .animate-on-scroll;
    transition-delay: 0.2s; // Delay relative to appearance

    .section-label {
        font-size: 2.5rem; // Much bigger as requested
        font-weight: 700;
        letter-spacing: -0.02em;
        color: var(--mat-sys-on-surface);
        margin-bottom: 3rem;
        opacity: 1; // Remove opacity for prominence
        text-align: center;
    }

    .logos-container {
        display: flex;
        align-items: center;
        gap: 3rem;
        flex-wrap: wrap;
        justify-content: center;
        opacity: 0.6;
        transition: opacity 0.3s ease;

        &:hover {
            opacity: 1;
        }

        .partner-logo {
            width: 90px;
            height: 90px;
            cursor: pointer;
            transition: transform 0.2s ease, filter 0.2s ease;
            // filter: grayscale(100%); // Start grayscale for "pro" look, color on hover if wanted?
            // Actually, removing grayscale might be better if they are SVG icons that follow text color.
            // Let's assume they take color from 'color' property or are original SVGs.
            // filter: grayscale(0%); // Reset

            &.wide {
                width: 90px; // align width with square icons, height will be much smaller = "smaller" overall
            }

            &:hover {
                transform: translateY(-2px) scale(1.1);
                color: var(--mat-sys-primary);
            }
        }

        .divider {
            width: 1px;
            height: 24px;
            background-color: var(--mat-sys-outline-variant);
            margin: 0 1rem;
            display: none; // Hide on mobile primarily

            @include bp.small {
                display: block;
            }
        }

        .file-formats {
            display: flex;
            gap: 1rem;

            .format {
                font-size: 0.875rem;
                font-weight: 600;
                color: var(--mat-sys-on-surface-variant);
                padding: 0.25rem 0.75rem;
                background-color: var(--mat-sys-surface-container);
                border-radius: 8px;
                transition: background-color 0.2s;

                &:hover {
                    background-color: var(--mat-sys-surface-container-high);
                    color: var(--mat-sys-on-surface);
                }
            }
        }
    }
}

// 3. Features Grid
.features-section {
    padding: 6rem 2rem;
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
    box-sizing: border-box;

    .section-title {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 4rem;
        font-weight: 600;
        @extend .animate-on-scroll;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 2rem;

        // Apply scroll animation to cards
        &>* {
            @extend .animate-on-scroll;
        }

        // Stagger delays (transition-delay)
        &>*:nth-child(1) {
            transition-delay: 0.1s;
        }

        &>*:nth-child(2) {
            transition-delay: 0.2s;
        }

        &>*:nth-child(3) {
            transition-delay: 0.3s;
        }

        &>*:nth-child(4) {
            transition-delay: 0.4s;
        }
    }

    .feature-card {
        height: 100%;
        border-radius: 24px;
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease; // Bouncy transition
        background: var(--mat-sys-surface-container-low);
        // Ensure border doesn't conflict with elevation if any, but adding a transparent border helps with high contrast modes or just structure
        border: 1px solid transparent;

        &:hover {
            transform: translateY(-8px); // More dramatic lift
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08); // Custom soft shadow or var(--mat-sys-elevation-level2)
            border-color: var(--mat-sys-outline-variant); // Slight border highlight
            background: var(--mat-sys-surface-container); // Slightly lighter background

            .feature-icon-container {
                transform: scale(1.1) rotate(5deg); // Playful interaction
            }
        }

        .feature-icon-container {
            background-color: var(--mat-sys-primary-container);
            color: var(--mat-sys-on-primary-container);
            width: 48px;
            height: 48px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); // Bouncy

            mat-icon {
                width: 24px;
                height: 24px;
            }
        }

        mat-card-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        mat-card-content p {
            color: var(--mat-sys-on-surface-variant);
            line-height: 1.6;
            font-size: 1rem;
        }
    }
}

// 3.5 Footprint Section (MyTracks Highlight)
.footprint-section {
    padding: 5rem 2rem;
    text-align: center;
    background: linear-gradient(135deg, var(--mat-sys-surface) 0%, var(--mat-sys-surface-container-low) 100%);
    border-top: 1px solid var(--mat-sys-outline-variant);

    .footprint-content {
        max-width: 700px;
        margin: 0 auto;
    }

    .footprint-text {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .footprint-icon {
        font-size: 56px;
        width: 56px;
        height: 56px;
        color: var(--mat-sys-tertiary);
        margin-bottom: 1.5rem;
    }

    h2 {
        font-size: 2.25rem;
        margin-bottom: 1rem;
        color: var(--mat-sys-on-surface);
    }

    p {
        font-size: 1.15rem;
        line-height: 1.7;
        color: var(--mat-sys-on-surface-variant);
        margin-bottom: 2rem;
    }

    button {
        border-radius: 999px;
        padding: 0.75rem 1.5rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;

        &:hover {
            transform: translateY(-2px);
        }
    }
}

// 4. Sovereignty Section
.sovereignty-section {
    background-color: var(--mat-sys-surface-container);
    padding: 6rem 2rem;
    text-align: center;

    .content-wrapper {
        max-width: 700px;
        margin: 0 auto;
    }

    .large-icon {
        font-size: 64px;
        width: 64px;
        height: 64px;
        color: var(--mat-sys-primary);
        margin-bottom: 1.5rem;
    }

    h2 {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
    }

    p {
        font-size: 1.25rem;
        line-height: 1.6;
        color: var(--mat-sys-on-surface-variant);
        margin-bottom: 2.5rem;
    }
}

// 5. Footer (Simplified & Modern)
.app-footer {
    padding: 4rem 2rem 2rem;
    background-color: var(--mat-sys-surface);
    border-top: 1px solid var(--mat-sys-outline-variant);
    margin-top: auto;

    .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
    }

    .maker-info {
        font-size: 0.9rem;
        color: var(--mat-sys-on-surface-variant);

        a {
            color: var(--mat-sys-primary);
            text-decoration: none;
            font-weight: 500;

            &:hover {
                text-decoration: underline;
            }
        }
    }

    .tech-stack {
        display: flex;
        gap: 1.5rem;
        opacity: 0.5;

        mat-icon {
            width: 64px;
            height: 64px;
            font-size: 64px;
            transition: opacity 0.2s;

            &:hover {
                opacity: 1;
                cursor: help;
            }
        }
    }

    .legal-links {
        display: flex;
        gap: 1.5rem;
        font-size: 0.8rem;
        color: var(--mat-sys-on-surface-variant);
        opacity: 0.8;
        flex-wrap: wrap;
        justify-content: center;

        a {
            color: inherit;
            text-decoration: none;

            &:hover {
                text-decoration: underline;
            }
        }
    }
}

// Responsive Adjustments
@include bp.xsmall {
    .hero-section {
        padding: 4rem 1.5rem 2rem;

        .hero-title {
            font-size: 2.5rem;
        }
    }

    .features-grid {
        grid-template-columns: 1fr;
    }

    .trust-indicators {
        flex-direction: column;
        gap: 0.5rem;
    }
}