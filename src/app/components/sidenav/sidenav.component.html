<mat-toolbar class="mat-nav-list">
  <mat-toolbar-row class="mat-elevation-z0 mat-list-item mat-app-background" (click)="sideNav.close();">
    <mat-icon class="app-icon" svgIcon="logo"></mat-icon>
    Quantified Self &nbsp;
    <span style="font-size: 0.6em;">{{appVersion}}</span>
  </mat-toolbar-row>
</mat-toolbar>


<mat-nav-list>
  @if (!user) {
  <mat-list-item routerLinkActive="active" routerLink="/" (click)="sideNav.close();">
    <mat-icon>home</mat-icon>
    <span>Home</span>
  </mat-list-item>
  }

  @if (user) {
  <mat-list-item routerLinkActive="active" routerLink="/dashboard" (click)="sideNav.close();">
    <mat-icon>dashboard</mat-icon>
    <span>Dashboard</span>
  </mat-list-item>
  }

  @if (!user) {
  <mat-list-item routerLinkActive="active" routerLink="/login" (click)="sideNav.close();">
    <mat-icon>assignment_ind</mat-icon>
    <span>Login</span>
  </mat-list-item>
  }

  @if (user) {
  <mat-list-item routerLinkActive="active" [routerLink]="isProUser ? '/mytracks' : '/pricing'"
    (click)="sideNav.close();">
    <mat-icon svgIcon="heat-map"></mat-icon>
    <span>My Tracks <span class="mat-small">(Beta)</span></span>
    <span class="fill-space"></span>
    @if (!isProUser) {
    <mat-icon style="margin-right: 0;" class="mat-small">lock</mat-icon>
    <span class="pro-badge"
      style="font-size: 0.7em; font-weight: bold; color: var(--accent-color); margin-left: 4px;">PRO</span>
    }
  </mat-list-item>
  }

  @if (user && user.isCoach) {
  <mat-list-item routerLinkActive="active" routerLink="/coaching" (click)="sideNav.close();">
    <mat-icon>sports</mat-icon>
    <span>Coaching</span>
  </mat-list-item>
  }

  <mat-list-item routerLinkActive="active" routerLink="/services" (click)="sideNav.close();">
    <mat-icon>leak_add</mat-icon>
    <span>Services</span>
  </mat-list-item>

  @if (user) {
  <mat-list-item routerLinkActive="active" [routerLink]="'/settings'" (click)="sideNav.close();">
    <mat-icon>settings_applications</mat-icon>
    Settings
  </mat-list-item>

  <mat-list-item routerLinkActive="active" routerLink="/pricing" (click)="sideNav.close();">
    <mat-icon>card_membership</mat-icon>
    Subscription
  </mat-list-item>

  @if (isAdminUser) {
  <mat-list-item routerLinkActive="active" routerLink="/admin" (click)="sideNav.close();">
    <mat-icon>admin_panel_settings</mat-icon>
    Admin
  </mat-list-item>
  }
  }

  <mat-list-item (click)="$event.stopPropagation(); $event.preventDefault(); themeService.toggleTheme()">
    <mat-icon svgIcon="dark-mode"></mat-icon>
    <span matTooltip="Use dark theme">
      Dark theme
    </span>
    <span class="fill-space"></span>
    <mat-slide-toggle [disabled]="!appTheme" [color]="'accent'" [checked]="appTheme === appThemes.Dark">
    </mat-slide-toggle>
  </mat-list-item>

  <mat-divider></mat-divider>



  <mat-list-item (click)="gitHubSponsor()">
    <mat-icon svgIcon="github_logo"></mat-icon>
    <span>Support this project</span><span class="fill-space"></span>
    <mat-icon>open_in_new</mat-icon>
  </mat-list-item>

  <mat-list-item (click)="gitHubStar()">
    <mat-icon>star</mat-icon>
    <span>Star this on GitHub</span><span class="fill-space"></span>
    <mat-icon>open_in_new</mat-icon>
  </mat-list-item>

  <!--  <mat-list-item (click)="donate()">-->
  <!--    <mat-icon svgIcon="paypal"></mat-icon>-->
  <!--    <span>Donate via PayPal </span><span class="fill-space"></span>-->
  <!--    <mat-icon>open_in_new</mat-icon>-->
  <!--  </mat-list-item>-->

  <mat-divider></mat-divider>

  <mat-list-item onclick="window.open('mailto:support@quantified-self.io')">
    <mat-icon>email</mat-icon>
    <span>Contact</span><span class="fill-space"></span>
    <mat-icon>open_in_new</mat-icon>
  </mat-list-item>

  <mat-list-item onclick="window.open('https://github.com/jimmykane/quantified-self/issues')">
    <mat-icon>bug_report</mat-icon>
    <span>File a bug</span><span class="fill-space"></span>
    <mat-icon>open_in_new</mat-icon>
  </mat-list-item>


  <mat-divider></mat-divider>

  <mat-list-item routerLink="/policies">
    <mat-icon>policy</mat-icon>
    <span>Policies</span><span class="fill-space"></span>
  </mat-list-item>

  <mat-divider></mat-divider>

  @if (user) {
  <mat-list-item (click)="logout()">
    <mat-icon>power_settings_new</mat-icon>
    <span>Logout</span>
  </mat-list-item>
  }

  @if (user) {
  <mat-divider></mat-divider>
  }

</mat-nav-list>